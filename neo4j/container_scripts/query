#!/bin/bash

# Script facilitates executing scripts; receives query container path
# and outputs execution time

query_remote_path="$1"
graph_name="$QUERY_GRAPH"
# if [ -z "$QUERY_GRAPH" ]; then
	# l=$(mktemp)
	# list_graphs > "$l"
	# db_no=$(wc -l < "$l")
	# if [ $db_no -gt 1 ]; then
		# echo "ERROR: name of graph to query not given and more than one graph "
		# echo "is present: "
		# cat "$l"
		# rm -f "$l"
		# exit 1
	# else
		# graph_name=$(head -n 1 < "$l")
		# rm -f "$l"
	# fi
# fi

tmp=$(mktemp)
cypher-shell -u neo4j -p neo4j --non-interactive 
TIMEFORMAT="%3lR" && \
	time { cypher-shell -u neo4j -p neodb --non-interactive < "$query_remote_path" > /dev/null ; }

rm -f "$tmp"
